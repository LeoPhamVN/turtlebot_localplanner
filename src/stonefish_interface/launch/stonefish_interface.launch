<launch>
    <arg name="depth_image_topic" default="/turtlebot/kobuki/realsense/depth/image_depth"/>
    <!-- <arg name="depth_image_topic" default="/turtlebot/kobuki/realsense/depth/custom_depth_image"/> -->
    <arg name="sensor_registered_scan_topic" default="/sensor_registered_scan"/>

    <!-- Run StoneFish simulator -->
    <include file="$(find turtlebot_simulation)/launch/turtlebot_integration.launch" />
    <node pkg="stonefish_interface" type="turtlebot_teleop_convert_node.py" name="turtlebot_teleop_convert_node"/>
    <!-- <node pkg="turtlebot_graph_slam" type="turtlebot_teleop_convert_node.py" name="turtlebot_teleop_convert_node"/> -->
    <!-- RVIZ -->
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find turtlebot_description)/rviz/turtlebot_exploration.rviz"/>
    
    <!-- Navigation module -->
    <include file="$(find navigation)/launch/navigation.launch">
    </include>

    <!-- <node pkg="turtlebot_graph_slam" type="EKF_node.py" name="EKF_node"/> -->


    <!-- <node pkg="depth_camera" type="depth_camera_node" name="depth_camera_node"/> -->

    <!-- Convert depth camera to 3D point cloud -->
    <!-- <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager" />

    <node pkg="nodelet" type="nodelet" name="nodelet1"
            args="load depth_image_proc/point_cloud_xyz nodelet_manager">
        <remap from="/camera_info" to="/turtlebot/kobuki/realsense/depth/custom_camera_info"/>
        <remap from="image_rect" to="$(arg depth_image_topic)"/>
        <remap from="points" to="$(arg sensor_registered_scan_topic)"/>
    </node> -->

    <!-- Convert depth camera to point cloud -->
    <!-- <include file="$(find depth_camera)/launch/depth_camera.launch">
    </include> -->

    <!-- Laser handle -->
    <include file="$(find laser_handle)/launch/laser_handle.launch">
    </include>

    <!--  -->
    <include file="$(find sensor_scan_generation)/launch/sensor_scan_generation.launch">
    </include>

    <!-- Local Planner -->
    <!-- <include file="$(find local_planner)/launch/local_planner.launch">
    </include> -->

</launch>
